%SCRIPT VALIDATE
%%
%%
%% Script to validate correct operation of SCRIPT system version 2.50
%%
%% The following instructions are NOT tested by this script :-
%%
%%      EXTERNAL
%%      EXTRACT
%%      QUEUE
%%
%%
Test if LIST 28 exists (value=1)
% if exists 28 .eq. - 1 then
value = -1
% end if
% if exists 28 .eq. 0 then
value 0
% end if
% if exists 28 .eq. 1 then
value = 1
% end if

%%
%%
  Test identification : IDENTIFY
%  IDENTIFY
%%
  Test variable definition/display : VARIABLE , SHOW
%%
%  VARIABLE INTEGER A B C
%  SHOW A B C
%  VARIABLE REAL D E F
%  SHOW D E F
%  VARIABLE LOGICAL G H I
%  SHOW G H I
%  VARIABLE CHARACTER J K L
%  SHOW J K L
%%
  Test basic structure forming elements : BLOCK , LOOP , IF , CASE
1) BLOCK
%  BLOCK
    In a BLOCK
%  END BLOCK
%%
2) LOOP n TIMES
%  LOOP 3 TIMES
    In a LOOP, executed 3 times
%  END LOOP
%%
3) IF true THEN ... ELSE
%  IF 2 > 1 THEN
    In IF, output if 2 > 1
%  ELSE
    In IF...ELSE, output if not 2 > 1
%  END IF
%%
4) IF false THEN ... ELSE
%  IF 1 > 2 THEN
    In IF, output if 1 > 2
%  ELSE
    In IF...ELSE, output if not 1 > 2
%  END IF
%%
5) CASE n
%  CASE 3
%    TRANSFER 'Line 1, shouldn't be output' TO DISPLAY
%    TRANSFER 'Line 2, shouldn't be output' TO DISPLAY
%    TRANSFER 'Line 3, should be output' TO DISPLAY
%    TRANSFER 'Line 4, shouldn't be output' TO DISPLAY
%  END CASE
%%
6) CASE n RANGE n1 n2
%  CASE 7 RANGE 4 7
%    TRANSFER 'Line 1, shouldn't be output' TO DISPLAY
%    TRANSFER 'Line 2, shouldn't be output' TO DISPLAY
%    TRANSFER 'Line 3, shouldn't be output' TO DISPLAY
%    TRANSFER 'Line 4, should be output' TO DISPLAY
%  END CASE
%%
7) CASE real AMONG real1 real2 real3 ...
%  CASE 3. AMONG 378. 3. 383. 892. 3892. 392373.
%    TRANSFER 'Line 1, shouldn't be output' TO DISPLAY
%    TRANSFER 'Line 2, should be output' TO DISPLAY
%    TRANSFER 'Line 3, shouldn't be output' TO DISPLAY
%    TRANSFER 'Line 4, shouldn't be output' TO DISPLAY
%  END CASE
%%
  Test TRANSFER with strings
1) TRANSFER string TO DISPLAY
%  TRANSFER 'This string is being displayed' TO DISPLAY
2) TRANSFER string TO CRYSTALS, using '#HELP HELP'
%  TRANSFER '#HELP HELP' TO CRYSTALS
3) TRANSFER string TO SCRIPT, using '%  SHOW A D G J'
%  TRANSFER '%  SHOW A D G J' TO SCRIPT
%%
  Test contingencies and messages : ON , ACTIVATE , MESSAGE
1) Define contingencies with ON
%  ON C_CONTINUE CONTINUE
%  ON C_TERMINATE TERMINATE
%  ON C_RESTART RESTART
%  ON C_REPEAT REPEAT
%%
2) Test CONTINUE
%  BLOCK
%    ON C_CONTINUE CONTINUE
%    ACTIVATE C_CONTINUE
    After ACTIVATE
%  END BLOCK
3) Test TERMINATE
%  BLOCK
%    ON C_TERMINATE TERMINATE
%    ACTIVATE C_TERMINATE
    After ACTIVATE
%  END BLOCK
4) Test REPEAT
%  LOOP
%    ON C_REPEAT REPEAT
%    ON END TERMINATE
%    TRANSFER 'Loop counter is ' // CHARACTER ( LOOPCOUNTER ) TO DISPLAY
%    GET TEXT 'Enter END to finish' 'go on'
%    ACTIVATE C_REPEAT
%  END LOOP
5) Test RESTART
%  LOOP
%    ON C_RESTART RESTART
%    ON END TERMINATE
%    TRANSFER 'Loop counter is ' // CHARACTER ( LOOPCOUNTER ) TO DISPLAY
%    GET TEXT 'Enter END to finish' 'go on'
%    ACTIVATE C_RESTART
%  END LOOP
6) Use each of the contingency messages
%  ON C_ABANDONED CONTINUE ABANDONED
%  ON C_USER1 CONTINUE USER1
%  ON C_USER2 CONTINUE USER2
%  ON C_USER3 CONTINUE USER3
%  ON C_USER4 CONTINUE USER4
%%
%  ACTIVATE C_ABANDONED
%  ACTIVATE C_USER1
%  ACTIVATE C_USER2
%  ACTIVATE C_USER3
%  ACTIVATE C_USER4
7) Redefine and use contingency messages
%  MESSAGE ABANDONED 'This replaces the default ABANDONED message'
%  MESSAGE USER1 'This replaces the default USER1 message'
%  MESSAGE USER2 'This replaces the default USER2 message'
%  MESSAGE USER3 'This replaces the default USER3 message'
%  MESSAGE USER4 'This replaces the default USER4 message'
%%
%  ACTIVATE C_ABANDONED
%  ACTIVATE C_USER1
%  ACTIVATE C_USER2
%  ACTIVATE C_USER3
%  ACTIVATE C_USER4
%%
  Test verification and other control functions : SET
1) Verify SCRIPT command lines, with SET VERIFY
%  SET VERIFY TRUE
%  SHOW A D G J
%  SET VERIFY FALSE
2) Verify identifier operations, with SET IDENT
%  SET IDENT TRUE
%  VARIABLE INTEGER I_A I_B I_C
%  SHOW I_A I_B I_C
%  ON C_CONTINUE2 CONTINUE
%  ACTIVATE C_CONTINUE2
%  LOOP 2 TIMES
%  END LOOP
%  SET IDENT FALSE
3) Verify STACK operations, with SET STACK
%  SET STACK TRUE
%  BLOCK
%  END BLOCK
%  SET STACK FALSE
4) Verify expression evaluation, with SET EVALUATE
  Expression is CHARACTER ( 1 + ( 3 * 4 + 4 ) * 2 ) // ' - A'
%  SET EVALUATE TRUE
%  TRANSFER CHARACTER ( 1 + ( 3 * 4 + 4 ) * 2 ) // ' - A' TO DISPLAY
%  SET EVALUATE FALSE
5) Control script messages, with SET MESSAGE
  'SHOW ABCDEFGHIJKL' will be attempted 3 times; only 2 messages expected
%  SHOW ABCDEFGHIJKL
%  SET MESSAGE FALSE
%  SHOW ABCDEFGHIJKL
%  SET MESSAGE TRUE
%  SHOW ABCDEFGHIJKL
  Note that SET FAST cannot be tested
%%
  Test assignment : EVALUATE
%  EVALUATE A = 1
%  EVALUATE D = 1.0
%  EVALUATE G = 1 = 1
%  EVALUATE J = '1'
%  SHOW A D G J
%%
  Test expressions
1) Integer, real, and character constants were tested by tests on EVALUATE
2) Logical and character 'standard values'
   H is TRUE, I is FALSE, K is NULLSTRING
%  EVALUATE H = TRUE
%  EVALUATE I = FALSE
%  EVALUATE K = NULLSTRING
%  SHOW H I K
3) Variables
%  EVALUATE B = A
%  EVALUATE E = D
%  EVALUATE H = G
%  EVALUATE K = J
%  SHOW A B
%  SHOW D E
%  SHOW G H
%  SHOW J K
4) Unary operators
4a) CHARACTER on integer, real, logical, and character
%  TRANSFER CHARACTER ( 1 ) TO DISPLAY
%  TRANSFER CHARACTER ( 1.0 ) TO DISPLAY
%  TRANSFER CHARACTER ( TRUE ) TO DISPLAY
%  TRANSFER CHARACTER ( 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' ) TO DISPLAY
 All remaining expression tests use CHARACTER to format non-character output
4b) UPPERCASE on character
  output is 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'
%  TRANSFER UPPERCASE 'abcdefghijklmnopqrstuvwxyz' to DISPLAY
4c) KEYWORD on integer
  output is 'KEY2'
%  VERIFY KEY1 KEY2 KEY3
%  TRANSFER KEYWORD 2 TO DISPLAY
4d) .NOT. on logical
  output is 'false' and 'true'
%  TRANSFER CHARACTER ( .NOT. TRUE ) TO DISPLAY
%  TRANSFER CHARACTER ( .NOT. FALSE ) TO DISPLAY
4e) + on integer and real
  output is 2 and 2.00000
%  TRANSFER CHARACTER ( + 2 ) TO DISPLAY
%  TRANSFER CHARACTER ( + 2. ) TO DISPLAY
4f) - on integer and real
  output is -2 and -2.00000
%  TRANSFER CHARACTER ( - 2 ) TO DISPLAY
%  TRANSFER CHARACTER ( - 2. ) TO DISPLAY
4g) EXISTS on integer
  output is EXISTS on 1 and 49
%  TRANSFER CHARACTER ( EXISTS 1 ) TO DISPLAY
%  TRANSFER CHARACTER ( EXISTS 49 ) TO DISPLAY
4h) INTEGER on real
  output is integer part of 2.5
%  TRANSFER CHARACTER ( INTEGER 2.5 ) TO DISPLAY
4i) REAL on integer
  output is REAL 2
%  TRANSFER CHARACTER ( REAL 2 ) TO DISPLAY
4j) .IF.  .THEN.  .ELSE.
  output is IF 1 > 2 THEN 'value 1' ELSE 'value 2'
  output is IF 2 > 1 THEN 'value 1' ELSE 'value 2'
%  TRANSFER .IF. 1 > 2 .THEN. 'value 1' .ELSE. 'value 2' TO DISPLAY
%  TRANSFER .IF. 2 > 1 .THEN. 'value 1' .ELSE. 'value 2' TO DISPLAY
4k) .VALUE.
  output is value of variable A
%  TRANSFER CHARACTER ( .VALUE. 'A' ) TO DISPLAY
5) Binary operators
  Integer operands are 2 and 3 then 2 and 2 then 3 and 2
  Real operands are 2. and 3. then 2. and 2. then 3. and 2.
  Logical operands are TRUE and FALSE then TRUE and TRUE
  Character operands are ABC and DEF then ABC and ABC then DEF and ABC
5a) + on integer and real
%  TRANSFER CHARACTER ( 2 + 3 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. + 3. ) TO DISPLAY
5b) - on integer and real
%  TRANSFER CHARACTER ( 2 - 3 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. - 3. ) TO DISPLAY
5c) * on integer and real
%  TRANSFER CHARACTER ( 2 * 3 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. * 3. ) TO DISPLAY
5d) / on integer and real
%  TRANSFER CHARACTER ( 2 / 3 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2 / 2 ) TO DISPLAY
%  TRANSFER CHARACTER ( 3 / 2 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. / 3. ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. / 2. ) TO DISPLAY
%  TRANSFER CHARACTER ( 3. / 2. ) TO DISPLAY
5e) .EQ. and = on integer, real, logical and character
%  TRANSFER CHARACTER ( 2 .EQ. 3 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2 = 3 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2 .EQ. 2 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2 = 2 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. .EQ. 3. ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. = 3. ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. .EQ. 2. ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. = 2. ) TO DISPLAY
%  TRANSFER CHARACTER ( TRUE .EQ. FALSE ) TO DISPLAY
%  TRANSFER CHARACTER ( TRUE = FALSE ) TO DISPLAY
%  TRANSFER CHARACTER ( TRUE .EQ. TRUE ) TO DISPLAY
%  TRANSFER CHARACTER ( TRUE = TRUE ) TO DISPLAY
%  TRANSFER CHARACTER ( 'ABC' .EQ. 'DEF' ) TO DISPLAY
%  TRANSFER CHARACTER ( 'ABC' = 'DEF' ) TO DISPLAY
%  TRANSFER CHARACTER ( 'ABC' .EQ. 'ABC' ) TO DISPLAY
%  TRANSFER CHARACTER ( 'ABC' = 'ABC' ) TO DISPLAY
5f) .NE. and <> on integer, real, logical and character
%  TRANSFER CHARACTER ( 2 .NE. 3 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2 <> 3 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2 .NE. 2 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2 <> 2 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. .NE. 3. ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. <> 3. ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. .NE. 2. ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. <> 2. ) TO DISPLAY
%  TRANSFER CHARACTER ( TRUE .NE. FALSE ) TO DISPLAY
%  TRANSFER CHARACTER ( TRUE <> FALSE ) TO DISPLAY
%  TRANSFER CHARACTER ( TRUE .NE. TRUE ) TO DISPLAY
%  TRANSFER CHARACTER ( TRUE <> TRUE ) TO DISPLAY
%  TRANSFER CHARACTER ( 'ABC' .NE. 'DEF' ) TO DISPLAY
%  TRANSFER CHARACTER ( 'ABC' <> 'DEF' ) TO DISPLAY
%  TRANSFER CHARACTER ( 'ABC' .NE. 'ABC' ) TO DISPLAY
%  TRANSFER CHARACTER ( 'ABC' <> 'ABC' ) TO DISPLAY
5g) .LE. and =< on integer and real
%  TRANSFER CHARACTER ( 2 .LE. 3 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2 =< 3 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2 .LE. 2 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2 =< 2 ) TO DISPLAY
%  TRANSFER CHARACTER ( 3 .LE. 2 ) TO DISPLAY
%  TRANSFER CHARACTER ( 3 =< 2 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. .LE. 3. ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. =< 3. ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. .LE. 2. ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. =< 2. ) TO DISPLAY
%  TRANSFER CHARACTER ( 3. .LE. 2. ) TO DISPLAY
%  TRANSFER CHARACTER ( 3. =< 2. ) TO DISPLAY
5h) .GE. and >= on integer and real
%  TRANSFER CHARACTER ( 2 .GE. 3 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2 >= 3 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2 .GE. 2 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2 >= 2 ) TO DISPLAY
%  TRANSFER CHARACTER ( 3 .GE. 2 ) TO DISPLAY
%  TRANSFER CHARACTER ( 3 >= 2 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. .GE. 3. ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. >= 3. ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. .GE. 2. ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. >= 2. ) TO DISPLAY
%  TRANSFER CHARACTER ( 3. .GE. 2. ) TO DISPLAY
%  TRANSFER CHARACTER ( 3. >= 2. ) TO DISPLAY
5i) .LT. and < on integer and real
%  TRANSFER CHARACTER ( 2 .LT. 3 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2 < 3 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2 .LT. 2 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2 < 2 ) TO DISPLAY
%  TRANSFER CHARACTER ( 3 .LT. 2 ) TO DISPLAY
%  TRANSFER CHARACTER ( 3 < 2 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. .LT. 3. ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. < 3. ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. .LT. 2. ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. < 2. ) TO DISPLAY
%  TRANSFER CHARACTER ( 3. .LT. 2. ) TO DISPLAY
%  TRANSFER CHARACTER ( 3. < 2. ) TO DISPLAY
5j) .GT. and > on integer and real
%  TRANSFER CHARACTER ( 2 .GT. 3 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2 > 3 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2 .GT. 2 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2 > 2 ) TO DISPLAY
%  TRANSFER CHARACTER ( 3 .GT. 2 ) TO DISPLAY
%  TRANSFER CHARACTER ( 3 > 2 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. .GT. 3. ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. > 3. ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. .GT. 2. ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. > 2. ) TO DISPLAY
%  TRANSFER CHARACTER ( 3. .GT. 2. ) TO DISPLAY
%  TRANSFER CHARACTER ( 3. > 2. ) TO DISPLAY
5k) .OR. on logical
%  TRANSFER CHARACTER ( TRUE .OR. FALSE ) TO DISPLAY
%  TRANSFER CHARACTER ( TRUE .OR. TRUE ) TO DISPLAY
5l) .AND. on logical
%  TRANSFER CHARACTER ( TRUE .AND. FALSE ) TO DISPLAY
%  TRANSFER CHARACTER ( TRUE .AND. TRUE ) TO DISPLAY
5m) // on character
%  TRANSFER 'ABC' // 'DEF' TO DISPLAY
5n) STARTSWITH on character
%  TRANSFER CHARACTER ( 'ABC' STARTSWITH 'DEF' ) TO DISPLAY
%  TRANSFER CHARACTER ( 'ABC' STARTSWITH 'ABC' ) TO DISPLAY
%  TRANSFER CHARACTER ( 'DEF' STARTSWITH 'ABC' ) TO DISPLAY
6) '()'
6a) Test precedence of + - * /
2 + 3 * 4     ,  2 * 3 + 4     ,  2 - 3 * 4     ,  2 * 3 - 4
2. + 3. / 4.  ,  2. / 3. + 4.  ,  2. - 3. / 4.  ,  2. / 3. - 4.
%  TRANSFER CHARACTER ( 2 + 3 * 4 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2 * 3 + 4 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2 - 3 * 4 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2 * 3 - 4 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. + 3. / 4. ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. / 3. + 4. ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. - 3. / 4. ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. / 3. - 4. ) TO DISPLAY
6a) Test (), same calculations, but + - before * /
%  TRANSFER CHARACTER ( ( 2 + 3 ) * 4 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2 * ( 3 + 4 ) ) TO DISPLAY
%  TRANSFER CHARACTER ( ( 2 - 3 ) * 4 ) TO DISPLAY
%  TRANSFER CHARACTER ( 2 * ( 3 - 4 ) ) TO DISPLAY
%  TRANSFER CHARACTER ( ( 2. + 3. ) / 4. ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. / ( 3. + 4. ) ) TO DISPLAY
%  TRANSFER CHARACTER ( ( 2. - 3. ) / 4. ) TO DISPLAY
%  TRANSFER CHARACTER ( 2. / ( 3. - 4. ) ) TO DISPLAY
%%
  Test user input : GET , VERIFY , and associated 'standard values'
%  VERIFY ABC DEF GHI JKL
1) Test data types
1a) VERIFIED
%  CLEAR
%  GET VERIFIED 'Answer'
%  TRANSFER CVALUE TO DISPLAY
%  TRANSFER CHARACTER ( VALUE ) TO DISPLAY
1b) ABBREVIATED
%  CLEAR
%  GET ABBREVIATED 'Answer'
%  TRANSFER CVALUE TO DISPLAY
%  TRANSFER CHARACTER ( VALUE ) TO DISPLAY
1c) TEXT
%  CLEAR
%  GET TEXT 'Answer'
%  TRANSFER CVALUE TO DISPLAY
%  TRANSFER CHARACTER ( VALUE ) TO DISPLAY
1d) KEYWORD
%  CLEAR
%  GET KEYWORD 'Answer'
%  TRANSFER CVALUE TO DISPLAY
%  TRANSFER CHARACTER ( VALUE ) TO DISPLAY
1e) FILENAME
%  CLEAR
%  GET FILENAME 'Answer'
%  TRANSFER CVALUE TO DISPLAY
%  TRANSFER CHARACTER ( VALUE ) TO DISPLAY
1f) INTEGER
%  CLEAR
%  GET INTEGER 'Answer'
%  TRANSFER CVALUE TO DISPLAY
%  TRANSFER CHARACTER ( VALUE ) TO DISPLAY
1g) REAL NUMBER
%  CLEAR
%  GET REAL 'Answer'
%  TRANSFER CVALUE TO DISPLAY
%  TRANSFER CHARACTER ( VALUE ) TO DISPLAY
2) Test control over GET
2a) FINAL
%  CLEAR
%  GET FINAL INTEGER 'Answer'
2b) NOMESSAGE
%  CLEAR
%  GET NOMESSAGE INTEGER 'Answer'
2c) FILL
%  CLEAR
%  GET FILL ABBREVIATED 'Answer'
%  TRANSFER CHARACTER ( CVALUE ) TO DISPLAY
%  TRANSFER CHARACTER ( VALUE ) TO DISPLAY
2d) NOREMOVE
%  CLEAR
%  GET NOREMOVE INTEGER 'Answer'
%  TRANSFER CVALUE TO DISPLAY
%  GET INTEGER 'Answer'
%  TRANSFER CVALUE TO DISPLAY
2e) NOPROMPT
%  CLEAR
%  BLOCK
%    MESSAGE USER1 'Error detected during input'
%    ON ERROR CONTINUE USER1
%    GET NOPROMPT INTEGER 'Answer'
%    TRANSFER 'Value is ' // CHARACTER ( VALUE ) TO DISPLAY
%  END BLOCK
%
APPEND and NOSTORE will be tested with COPY, INSERT etc.
3) Default value
%  CLEAR
%  GET INTEGER 'Answer' '100'
%  TRANSFER CVALUE TO DISPLAY
%  TRANSFER CHARACTER ( VALUE ) TO DISPLAY
4) Validation expressions
  Answer must be greater than 1000
%  CLEAR
%  GET INTEGER 'Answer' '999' VALUE > 1000
%  TRANSFER CVALUE TO DISPLAY
%  TRANSFER CHARACTER ( VALUE ) TO DISPLAY
  Test communications with main CRYSTALS program : CLEAR , COPY , EXECUTE ,
                                                   INSERT , SEND , STORE
1) CLEAR and COPY '#HELP HELP'
%  CLEAR
%  COPY '#HELP HELP'
2) INSERT '#HELP HELP' and SEND, CLEAR and repeat INSERT and SEND
%  INSERT '#HELP HELP'
%  SEND
%  CLEAR
%  INSERT '#HELP HELP'
%  SEND
3) CLEAR , INSERT '%SHOW A D G J' , EXECUTE
%  CLEAR
%  INSERT '%SHOW A D G J'
%  EXECUTE
4) CLEAR, INSERT '#HELP', GET, SEND
%  CLEAR
%  INSERT '#HELP'
%  VERIFY HELP NEWS ERRORS
%  GET FILL ABBREVIATED 'Topic' 'HELP'
%  SEND
5) CLEAR, INSERT, GET NOSTORE, STORE, SEND
%  CLEAR
%  INSERT '#HELP '
%  VERIFY HELP NEWS ERRORS
%  GET NOSTORE VERIFIED 'Topic' 'HELP'
%  STORE KEYWORD VALUE
%  SEND
6) CLEAR, INSERT '#TYPE CRSCP:', GET APPEND, SEND
%  CLEAR
%  INSERT '#TYPE CRYSDIR:script/'
%  GET APPEND FILENAME 'Script'
%  SEND
  Test selection function : INDEX
%  VARIABLE INTEGER INDEX_TEST
%  GET INTEGER 'Select item' '2' ( VALUE > 0 .AND. VALUE < 11 )
%  INDEX INDEX_TEST VALUE 99 98 97 96 95 94 93 92 91 90
%  SHOW INDEX_TEST
%%
Now show all the colours introduced with '{m,n'
White on:
{0,1  0,1
{0,2  0,2
{0,3  0,3
{0,4  0,4
{0,5  0,5
{0,6  0,6
{0,7  0,7
{0,8  0,8
{0,9  0,9
{0,10  0,10
{0,11  0,11
{0,12  0,12
{0,13  0,13
{0,14  0,14
{0,15  0,15

Black on:
{1,0  1,0  white
{1,1  1,1  black
{1,2  1,2  blue
{1,3  1,3  green
{1,4  1,4  red
{1,5  1,5  maroon
{1,6  1,6  purple
{1,7  1,7  brown
{1,8  1,8  yellow
{1,9  1,9  lgreen

{2,1  2,1  blue on black
{3,1  3,1  green on black
{4,1  4,1  red on black
{5,1  5,1  maroon on black
{6,1  6,1  purple on black
{7,1  7,1  brown on black
{8,1  8,1  yellow on black
{9,1  9,1  lgreen on black
{10,1  10,1  grey on black
{11,1  11,1  cyan on black
{12,1  12,1  lblue on black
{13,1  13,1  magenta on black

And for good measure, all the colour combinations:
{0,0 00,00 {1,0 01,00 {2,0 02,00 {3,0 03,00 {4,0 04,00
{5,0 05,00 {6,0 06,00 {7,0 07,00 {8,0 08,00 {9,0 09,00
{10,0 10,00 {11,0 11,00 {12,0 12,00 {13,0 13,00 {14,0 14,00 {15,0 15,00
{0,1 00,01 {1,1 01,01 {2,1 02,01 {3,1 03,01 {4,1 04,01
{5,1 05,01 {6,1 06,01 {7,1 07,01 {8,1 08,01 {9,1 09,01
{10,1 10,01 {11,1 11,01 {12,1 12,01 {13,1 13,01 {14,1 14,01 {15,1 15,01
{0,2 00,02 {1,2 01,02 {2,2 02,02 {3,2 03,02 {4,2 04,02
{5,2 05,02 {6,2 06,02 {7,2 07,02 {8,2 08,02 {9,2 09,02
{10,2 10,02 {11,2 11,02 {12,2 12,02 {13,2 13,02 {14,2 14,02 {15,2 15,02
{0,3 00,03 {1,3 01,03 {2,3 02,03 {3,3 03,03 {4,3 04,03
{5,3 05,03 {6,3 06,03 {7,3 07,03 {8,3 08,03 {9,3 09,03
{10,3 10,03 {11,3 11,03 {12,3 12,03 {13,3 13,03 {14,3 14,03 {15,3 15,03
{0,4 00,04 {1,4 01,04 {2,4 02,04 {3,4 03,04 {4,4 04,04
{5,4 05,04 {6,4 06,04 {7,4 07,04 {8,4 08,04 {9,4 09,04 {10,4 10,04
{11,4 11,04 {12,4 12,04 {13,4 13,04 {14,4 14,04 {15,4 15,04
{0,5 00,05 {1,5 01,05 {2,5 02,05 {3,5 03,05 {4,5 04,05
{5,5 05,05 {6,5 06,05 {7,5 07,05 {8,5 08,05 {9,5 09,05
{10,5 10,05 {11,5 11,05 {12,5 12,05 {13,5 13,05 {14,5 14,05 {15,5 15,05
{0,6 00,06 {1,6 01,06 {2,6 02,06 {3,6 03,06 {4,6 04,06
{5,6 05,06 {6,6 06,06 {7,6 07,06 {8,6 08,06 {9,6 09,06
{10,6 10,06 {11,6 11,06 {12,6 12,06 {13,6 13,06 {14,6 14,06 {15,6 15,06
{0,7 00,07 {1,7 01,07 {2,7 02,07 {3,7 03,07 {4,7 04,07
{5,7 05,07 {6,7 06,07 {7,7 07,07 {8,7 08,07 {9,7 09,07
{10,7 10,07 {11,7 11,07 {12,7 12,07 {13,7 13,07 {14,7 14,07 {15,7 15,07
{0,8 00,08 {1,8 01,08 {2,8 02,08 {3,8 03,08 {4,8 04,08
{5,8 05,08 {6,8 06,08 {7,8 07,08 {8,8 08,08 {9,8 09,08
{10,8 10,08 {11,8 11,08 {12,8 12,08 {13,8 13,08 {14,8 14,08 {15,8 15,08
{0,9 00,09 {1,9 01,09 {2,9 02,09 {3,9 03,09 {4,9 04,09
{5,9 05,09 {6,9 06,09 {7,9 07,09 {8,9 08,09 {9,9 09,09
{10,9 10,09 {11,9 11,09 {12,9 12,09 {13,9 13,09 {14,9 14,09 {15,9 15,09
{0,10 00,10 {1,10 01,10 {2,10 02,10 {3,10 03,10 {4,10 04,10
{5,10 05,10 {6,10 06,10 {7,10 07,10 {8,10 08,10 {9,10 09,10
{10,10 10,10 {11,10 11,10 {12,10 12,10 {13,10 13,10 {14,10 14,10 {15,10 15,10
{0,11 00,11 {1,11 01,11 {2,11 02,11 {3,11 03,11 {4,11 04,11
{5,11 05,11 {6,11 06,11 {7,11 07,11 {8,11 08,11 {9,11 09,11
{10,11 10,11 {11,11 11,11 {12,11 12,11 {13,11 13,11 {14,11 14,11 {15,11 15,11
{0,12 00,12 {1,12 01,12 {2,12 02,12 {3,12 03,12 {4,12 04,12
{5,12 05,12 {6,12 06,12 {7,12 07,12 {8,12 08,12 {9,12 09,12
{10,12 10,12 {11,12 11,12 {12,12 12,12 {13,12 13,12 {14,12 14,12 {15,12 15,12
{0,13 00,13 {1,13 01,13 {2,13 02,13 {3,13 03,13 {4,13 04,13
{5,13 05,13 {6,13 06,13 {7,13 07,13 {8,13 08,13 {9,13 09,13
{10,13 10,13 {11,13 11,13 {12,13 12,13 {13,13 13,13 {14,13 14,13 {15,13 15,13
{0,14 00,14 {1,14 01,14 {2,14 02,14 {3,14 03,14 {4,14 04,14
{5,14 05,14 {6,14 06,14 {7,14 07,14 {8,14 08,14 {9,14 09,14
{10,14 10,14 {11,14 11,14 {12,14 12,14 {13,14 13,14 {14,14 14,14 {15,14 15,14
{0,15 00,15 {1,15 01,15 {2,15 02,15 {3,15 03,15 {4,15 04,15
{5,15 05,15 {6,15 06,15 {7,15 07,15 {8,15 08,15 {9,15 09,15
{10,15 10,15 {11,15 11,15 {12,15 12,15 {13,15 13,15 {14,15 14,15 {15,15 15,15
 
Show warning/message colours inroduced with a '{a'

{I TEST I
{S TEST S
{R TEST R
{E TEST E
{Z TEST Z

 Get ROOT and EXTENSIOn out of filename
%  VARIABLE CHARACTER FILE FTITLE CPATH CEXTN 
%      EVALUATE FILE = 'MYPATH\Myfile.MYEXT'
%      EVALUATE FTITLE = GETTITLE ( FILE )
%      EVALUATE CPATH = GETPATH ( FILE )
%      EVALUATE CEXTN = GETEXTN ( FILE )


% SHOW FILE
% SHOW CPATH
% SHOW FTITLE
% SHOW CEXTN
c
Convert to all-uppercase - NOTE there is no LOWERCASE operator

% EVALUATE FILE = UPPERCASE ( FILE )
% SHOW FILE


  Final test : FINISH
%  FINISH
%%
%END SCRIPT
