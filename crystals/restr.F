CODE FOR RESTR
      SUBROUTINE RESTR
      CALL XSYSDC(-1,1)
      CALL XWASER
      RETURN
      END
C
CODE FOR XWASER
      SUBROUTINE XWASER
C--SUBROUTINE TO CONTROL THE APPLICATION AND CHECKING OF RESTRAINTS.
C
C--
\ISTORE
C
\STORE
C
\XUNITS
\QSTORE
C
C--LOAD THE NEXT '#INSTRUCTION'
1000  CONTINUE
      NUM=KNXTOP(LSTOP,LSTNO,ICLASS)
C--CHECK IF WE SHOULD RETURN
      IF(NUM)1100,1100,1200
1100  CONTINUE
      RETURN
C--BRANCH ON THE TYPE OF OPERATION
1200  CONTINUE
      GOTO (2000,3000,4000,5000,1300),NUM
1300  STOP 341
C
C--ROUTNE APPLY THE RESTRAINTS STORED IN LIST 16/26
2000  CONTINUE
      CALL XAPP16
      GOTO 1000
C
C--ROUTINE TO CHECK THE RESTRAINTS STORED IN LIST 16/26
3000  CONTINUE
      CALL XCHK16
      GOTO 1000
C
C--'#END' INSTRUCTION
4000  CONTINUE
      CALL XMONTR(-1)
      CALL XEND
      GOTO 1000
C
C--'#TITLE' INSTRUCTION
5000  CONTINUE
      CALL XRCN
      GOTO 1000
      END
